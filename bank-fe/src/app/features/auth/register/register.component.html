<div class="register-page">
  <div class="register-card-wrapper">
    <p-card class="register-card">
      <ng-template pTemplate="header">
        <div class="card-header">
          <div class="icon-wrapper">
            <i class="pi pi-user-plus icon-user"></i>
          </div>
          <h1 class="card-title">Đăng ký tài khoản</h1>
          <p class="card-subtitle">Tạo tài khoản mới để bắt đầu</p>
        </div>
      </ng-template>

      <div class="card-content">
        <form
          [formGroup]="registerForm"
          (ngSubmit)="onSubmit()"
          class="register-form"
        >
          <div class="form-field">
            <label for="name" class="form-label">
              <i class="pi pi-user"></i>
              Họ và tên
            </label>
            <div class="input-wrapper">
              <input
                pInputText
                id="name"
                formControlName="name"
                placeholder="Nhập họ và tên"
                class="form-input"
                [class.error]="
                  registerForm.get('name')?.invalid &&
                  registerForm.get('name')?.touched
                "
              />
            </div>
            @if (
              registerForm.get("name")?.invalid &&
              registerForm.get("name")?.touched
            ) {
              <div class="error-message">
                <i class="pi pi-exclamation-triangle"></i>
                Vui lòng nhập họ và tên
              </div>
            }
          </div>

          <div class="form-field">
            <label for="email" class="form-label">
              <i class="pi pi-envelope"></i>
              Email
            </label>
            <div class="input-wrapper">
              <input
                pInputText
                id="email"
                type="email"
                formControlName="email"
                placeholder="Nhập email của bạn"
                class="form-input"
                [class.error]="
                  registerForm.get('email')?.invalid &&
                  registerForm.get('email')?.touched
                "
              />
            </div>
            @if (
              registerForm.get("email")?.invalid &&
              registerForm.get("email")?.touched
            ) {
              <div class="error-message">
                <i class="pi pi-exclamation-triangle"></i>
                Vui lòng nhập email hợp lệ
              </div>
            }
          </div>

          <div class="form-field">
            <label for="phone" class="form-label">
              <i class="pi pi-phone"></i>
              Số điện thoại (tùy chọn)
            </label>
            <div class="input-wrapper">
              <input
                pInputText
                id="phone"
                formControlName="phone"
                placeholder="Nhập số điện thoại"
                class="form-input"
              />
            </div>
          </div>

          <div class="form-field">
            <label for="password" class="form-label">
              <i class="pi pi-lock"></i>
              Mật khẩu
            </label>
            <div class="input-wrapper">
              <p-password
                id="password"
                formControlName="password"
                placeholder="Nhập mật khẩu (tối thiểu 8 ký tự)"
                [feedback]="true"
                [toggleMask]="true"
                [inputStyle]="{
                  width: '100%',
                  padding: '1rem',
                  'border-radius': '12px',
                  border: '2px solid #e5e7eb',
                  background: '#f9fafb',
                  color: '#111827',
                  'font-size': '1rem',
                }"
                [class.error]="
                  registerForm.get('password')?.invalid &&
                  registerForm.get('password')?.touched
                "
              >
              </p-password>
            </div>
            @if (
              registerForm.get("password")?.invalid &&
              registerForm.get("password")?.touched
            ) {
              <div class="error-message">
                <i class="pi pi-exclamation-triangle"></i>
                Mật khẩu phải có ít nhất 8 ký tự
              </div>
            }
          </div>

          <!-- Submit Button -->
          <button
            type="submit"
            class="gradient-button"
            [disabled]="registerForm.invalid || isLoading"
          >
            <i class="pi pi-user-plus"></i>
            <span>Đăng ký</span>
          </button>
        </form>
      </div>

      <ng-template pTemplate="footer">
        <div class="card-footer">
          <p class="login-text">
            Đã có tài khoản?
            <a routerLink="/login" class="login-link">Đăng nhập ngay</a>
          </p>
        </div>
      </ng-template>
    </p-card>
  </div>
</div>
<p-toast></p-toast>
